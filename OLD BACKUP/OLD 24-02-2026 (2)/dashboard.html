<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Innovative X ‚Äî SuperAdmin Dashboard</title>

  <!-- ============================================================
       FAVICON LINKS ‚Äî All files should be in /assets/ folder
  ============================================================ -->
  <link rel="icon" type="image/png" href="assets/favicon-96x96.png" sizes="96x96"/>
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg"/>
  <link rel="shortcut icon" href="assets/favicon.ico"/>
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png"/>
  <link rel="manifest" href="assets/site.webmanifest"/>

  <!-- ============================================================
       FONTS ‚Äî Rajdhani (UI) + JetBrains Mono (data/code)
  ============================================================ -->
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>

  <!-- ============================================================
       FONT AWESOME ‚Äî For real social media icons
  ============================================================ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- ============================================================
       CSS VARIABLES ‚Äî Brand colors, sizes, spacing
       Team: update --blue and --green to match client theme if needed
  ============================================================ -->
  <link rel="stylesheet" href="dashboard.css"/>
</head>
<body>

  <!-- ============================================================
       HEADER
       Team: Replace "Super Admin" with logged-in username from session
  ============================================================ -->
  <header class="header">

    <!-- Left: Logo + Brand Name -->
    <div class="header-left">
      <button class="hamburger" id="hamburger" onclick="toggleSidebar()">
        <span></span><span></span><span></span>
      </button>
      <div class="header-brand-name">Innovative X</div>
    </div>

    <!-- Right: Admin Label + Clock + Logout -->
    <div class="header-right">
      <div class="header-admin-label"><span>Super</span> Admin</div>
      <div class="header-clock" id="headerClock">--:--:--</div>
      <!-- Team: logout should clear session/token and redirect to index.html -->
      <a href="index.html" class="btn-logout">‚èª Logout</a>
    </div>

  </header>

  <!-- ============================================================
       MAIN LAYOUT
  ============================================================ -->
  <div class="layout">

    <!-- Mobile sidebar backdrop -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <!-- ===========================================================
         SIDEBAR NAVIGATION
         Team: active state is handled by JS showPanel() function
    =========================================================== -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-section">

        <!-- Section Label -->
        <div class="sidebar-section-label">‚ö° Control Panel</div>

        <!-- MCX API Section -->
        <div class="nav-item" id="nav-mcx">
          <div class="nav-link" onclick="toggleNav('nav-mcx')">
            <span class="nav-icon">üì°</span>
            <span class="nav-label">MCX API</span>
            <span class="nav-arrow">‚ñ∂</span>
          </div>
          <div class="sub-nav">
            <div class="sub-link" onclick="showPanel('market-watch')">Market Watch</div>
            <div class="sub-link" onclick="showPanel('api-status')">API Status</div>
            <div class="sub-link" onclick="showPanel('configuration')">Configuration</div>
          </div>
        </div>

        <!-- Clients Section -->
        <div class="nav-item" id="nav-clients">
          <div class="nav-link" onclick="toggleNav('nav-clients')">
            <span class="nav-icon">üè¢</span>
            <span class="nav-label">Clients</span>
            <span class="nav-arrow">‚ñ∂</span>
          </div>
          <div class="sub-nav">
            <div class="sub-link" onclick="showPanel('add-client')">Add Client</div>
            <div class="sub-link" onclick="showPanel('edit-client')">Edit Client</div>
            <div class="sub-link" onclick="showPanel('inactive-clients')">Inactive Clients</div>
          </div>
        </div>

        <!-- Frontend Settings ‚Äî Single click, no sub-menu -->
        <div class="nav-item" id="nav-frontend">
          <div class="nav-link" onclick="showPanel('frontend-settings'); setNavActive('nav-frontend')">
            <span class="nav-icon">üñ•Ô∏è</span>
            <span class="nav-label">Frontend Settings</span>
          </div>
        </div>

        <!-- Meta Settings ‚Äî Single click, no sub-menu -->
        <div class="nav-item" id="nav-meta">
          <div class="nav-link" onclick="showPanel('meta-settings'); setNavActive('nav-meta')">
            <span class="nav-icon">üîç</span>
            <span class="nav-label">Meta Settings</span>
          </div>
        </div>

      </div>
    </aside>

    <!-- ===========================================================
         CONTENT AREA ‚Äî All panels live here
    =========================================================== -->
    <main class="content">

      <!-- =========================================================
           WELCOME PANEL ‚Äî Default state
      ========================================================= -->
      <div class="panel active" id="panel-welcome">
        <div style="display:flex; align-items:center; justify-content:center; height:calc(100vh - 160px); flex-direction:column; gap:20px;">
          <img src="assets/logo.png" alt="Innovative X" style="height:140px; object-fit:contain;"/>
          <div style="font-family:'JetBrains Mono',monospace; font-size:16px; color:var(--text2); letter-spacing:0.15em;">SELECT AN OPTION FROM THE CONTROL PANEL</div>
        </div>
      </div>

      <!-- =========================================================
           MARKET WATCH PANEL
           Team: fetch script list from GET /api/market-watch/scripts
           Team: right-click context menu triggers Add/Edit/Delete APIs
      ========================================================= -->
      <div class="panel" id="panel-market-watch">
        <div class="page-header">
          <div>
            <div class="page-title">Market Watch</div>
            <div class="page-breadcrumb">MCX API / <span>Market Watch</span></div>
          </div>
          <div class="page-actions">
            <!-- Team: these buttons call openModal() which triggers API forms -->
            <button class="btn btn-outline btn-sm" id="editScriptBtn" disabled onclick="openModal('modal-edit-script')">‚úèÔ∏è Edit Script</button>
            <button class="btn btn-danger  btn-sm" id="deleteScriptBtn" disabled onclick="confirmDeleteScript()">üóë Delete</button>
            <button class="btn btn-primary btn-sm" onclick="openModal('modal-add-script')">+ Add Script</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Live Scripts</div>
            <!-- Team: show live script count from API -->
            <div id="mwSelCount" style="font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--muted);">0 selected</div>
          </div>
          <div class="table-wrap">
            <!-- Team: populate this tbody via GET /api/market-watch/scripts -->
            <table id="mwTable">
              <thead>
                <tr>
                  <th><input type="checkbox" class="row-check" id="mwSelectAll" onchange="mwToggleAll(this)"/></th>
                  <th>Script</th>
                  <th>Bid</th>
                  <th>Ask</th>
                  <th>High</th>
                  <th>Low</th>
                  <th>Last Updated</th>
                  <th>Feed Provider</th>
                </tr>
              </thead>
              <tbody id="mwTableBody">
                <!-- Sample rows ‚Äî Team: replace with dynamic data from API -->
                <tr oncontextmenu="showCtxMenu(event, this)">
                  <td><input type="checkbox" class="row-check mw-check" onchange="mwCheckChange()"/></td>
                  <td class="td-mono">GOLD24</td>
                  <td class="td-mono td-up">71,450.00</td>
                  <td class="td-mono td-up">71,460.00</td>
                  <td class="td-mono">71,890.00</td>
                  <td class="td-mono">70,980.00</td>
                  <td class="td-mono" style="color:var(--muted);">10:34:22 AM</td>
                  <td><span class="badge badge-blue"><span class="badge-dot"></span>UPSTOX</span></td>
                </tr>
                <tr oncontextmenu="showCtxMenu(event, this)">
                  <td><input type="checkbox" class="row-check mw-check" onchange="mwCheckChange()"/></td>
                  <td class="td-mono">SILVER</td>
                  <td class="td-mono td-down">84,200.00</td>
                  <td class="td-mono td-down">84,230.00</td>
                  <td class="td-mono">85,100.00</td>
                  <td class="td-mono">83,500.00</td>
                  <td class="td-mono" style="color:var(--muted);">10:34:21 AM</td>
                  <td><span class="badge badge-green"><span class="badge-dot"></span>GDF</span></td>
                </tr>
                <tr oncontextmenu="showCtxMenu(event, this)">
                  <td><input type="checkbox" class="row-check mw-check" onchange="mwCheckChange()"/></td>
                  <td class="td-mono">CRUDEOIL</td>
                  <td class="td-mono td-up">6,721.00</td>
                  <td class="td-mono td-up">6,725.00</td>
                  <td class="td-mono">6,800.00</td>
                  <td class="td-mono">6,650.00</td>
                  <td class="td-mono" style="color:var(--muted);">10:34:20 AM</td>
                  <td><span class="badge badge-red"><span class="badge-dot"></span>SAMCO</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p style="font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--muted); margin-top:10px; letter-spacing:0.05em;">
          üí° Right-click any row for quick actions &nbsp;|&nbsp; Tick checkbox to enable Edit / Delete buttons
        </p>
      </div>

      <!-- =========================================================
           API STATUS PANEL
           Team: fetch client list from GET /api/clients
           Team: toggle calls PUT /api/clients/:id/api-access
           Team: connect calls POST /api/clients/:id/connect
           Team: disconnect calls POST /api/clients/:id/disconnect
      ========================================================= -->
      <div class="panel" id="panel-api-status">
        <div class="page-header">
          <div>
            <div class="page-title">API Status</div>
            <div class="page-breadcrumb">MCX API / <span>API Status</span></div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Client API Access Control</div>
          </div>
          <div class="table-wrap">
            <!-- Team: replace with dynamic rows from GET /api/clients -->
            <table>
              <thead>
                <tr>
                  <th>Client Name</th>
                  <th>Status</th>
                  <th>API Access</th>
                  <th>Connect</th>
                  <th>Disconnect</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="font-weight:600;">Client A ‚Äî Bullion Hub</td>
                  <td>
                    <div class="status-light">
                      <span class="status-dot connected"></span>
                      <span style="color:var(--success); font-size:12px;">Connected</span>
                    </div>
                  </td>
                  <td>
                    <div class="toggle-wrap">
                      <label class="toggle"><input type="checkbox" checked onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                      <span class="toggle-label">ON</span>
                    </div>
                  </td>
                  <td><button class="btn btn-success btn-sm">‚ö° Connect</button></td>
                  <td><button class="btn btn-danger btn-sm">‚úï Disconnect</button></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">Client B ‚Äî Gold Mart</td>
                  <td>
                    <div class="status-light">
                      <span class="status-dot connected"></span>
                      <span style="color:var(--success); font-size:12px;">Connected</span>
                    </div>
                  </td>
                  <td>
                    <div class="toggle-wrap">
                      <label class="toggle"><input type="checkbox" checked onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                      <span class="toggle-label">ON</span>
                    </div>
                  </td>
                  <td><button class="btn btn-success btn-sm">‚ö° Connect</button></td>
                  <td><button class="btn btn-danger btn-sm">‚úï Disconnect</button></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">Client C ‚Äî Silver Palace</td>
                  <td>
                    <div class="status-light">
                      <span class="status-dot disconnected"></span>
                      <span style="color:var(--error); font-size:12px;">Disconnected</span>
                    </div>
                  </td>
                  <td>
                    <div class="toggle-wrap">
                      <label class="toggle"><input type="checkbox" onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                      <span class="toggle-label">OFF</span>
                    </div>
                  </td>
                  <td><button class="btn btn-success btn-sm">‚ö° Connect</button></td>
                  <td><button class="btn btn-danger btn-sm">‚úï Disconnect</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- =========================================================
           CONFIGURATION PANEL
           Team: load saved config from GET /api/config/:provider
           Team: save config via POST /api/config/:provider
           Team: connected status from GET /api/config/:provider/status
      ========================================================= -->
      <div class="panel" id="panel-configuration">
        <div class="page-header">
          <div>
            <div class="page-title">Configuration</div>
            <div class="page-breadcrumb">MCX API / <span>Configuration</span></div>
          </div>
        </div>

        <div class="config-grid">

          <!-- UPSTOX Config Card -->
          <div class="config-card">
            <div class="config-card-header">
              <div class="config-provider-name provider-upstox">‚ö° UPSTOX</div>
              <div class="toggle-wrap">
                <label class="toggle"><input type="checkbox" checked onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                <span class="toggle-label">Active</span>
              </div>
            </div>
            <div class="config-card-body">
              <!-- Connection status indicator -->
              <div class="config-connection-bar">
                <span style="font-size:13px; font-weight:600; color:var(--text2);">Connection</span>
                <div class="status-light">
                  <span class="status-dot connected"></span>
                  <span style="color:var(--success); font-size:12px;">Connected</span>
                </div>
              </div>
              <!-- Team: fields map to UPSTOX API credentials -->
              <div class="form-group">
                <label class="form-label">Username / Client ID</label>
                <input class="form-input" type="text" name="upstox_username" placeholder="Enter username"/>
              </div>
              <div class="form-group">
                <label class="form-label">Password / API Key</label>
                <input class="form-input" type="password" name="upstox_password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
              </div>
              <div class="form-group">
                <label class="form-label">Mobile Number</label>
                <input class="form-input" type="tel" name="upstox_mobile" placeholder="+91 XXXXX XXXXX"/>
              </div>
              <div class="form-group">
                <label class="form-label">Email</label>
                <input class="form-input" type="email" name="upstox_email" placeholder="api@upstox.com"/>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Sender Company ID</label>
                  <input class="form-input" type="text" name="upstox_sender_id" placeholder="SENDER001"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Target Company ID</label>
                  <input class="form-input" type="text" name="upstox_target_id" placeholder="TARGET001"/>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">IP Address</label>
                  <input class="form-input" type="text" name="upstox_ip" placeholder="192.168.1.1"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Port</label>
                  <input class="form-input" type="number" name="upstox_port" placeholder="8080"/>
                </div>
              </div>
              <!-- Team: POST /api/config/upstox on click -->
              <button class="btn btn-primary" style="width:100%; margin-top:4px;">Save UPSTOX Config</button>
            </div>
          </div>

          <!-- GDF Config Card -->
          <div class="config-card">
            <div class="config-card-header">
              <div class="config-provider-name provider-gdf">üåê GDF</div>
              <div class="toggle-wrap">
                <label class="toggle"><input type="checkbox" onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                <span class="toggle-label">Inactive</span>
              </div>
            </div>
            <div class="config-card-body">
              <div class="config-connection-bar">
                <span style="font-size:13px; font-weight:600; color:var(--text2);">Connection</span>
                <div class="status-light">
                  <span class="status-dot disconnected"></span>
                  <span style="color:var(--error); font-size:12px;">Disconnected</span>
                </div>
              </div>
              <div class="form-group">
                <label class="form-label">Username / Client ID</label>
                <input class="form-input" type="text" name="gdf_username" placeholder="Enter username"/>
              </div>
              <div class="form-group">
                <label class="form-label">Password / API Key</label>
                <input class="form-input" type="password" name="gdf_password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
              </div>
              <div class="form-group">
                <label class="form-label">Mobile Number</label>
                <input class="form-input" type="tel" name="gdf_mobile" placeholder="+91 XXXXX XXXXX"/>
              </div>
              <div class="form-group">
                <label class="form-label">Email</label>
                <input class="form-input" type="email" name="gdf_email" placeholder="api@gdf.com"/>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Sender Company ID</label>
                  <input class="form-input" type="text" name="gdf_sender_id" placeholder="SENDER001"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Target Company ID</label>
                  <input class="form-input" type="text" name="gdf_target_id" placeholder="TARGET001"/>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">IP Address</label>
                  <input class="form-input" type="text" name="gdf_ip" placeholder="192.168.1.1"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Port</label>
                  <input class="form-input" type="number" name="gdf_port" placeholder="8080"/>
                </div>
              </div>
              <button class="btn btn-primary" style="width:100%; margin-top:4px;">Save GDF Config</button>
            </div>
          </div>

          <!-- SAMCO Config Card -->
          <div class="config-card">
            <div class="config-card-header">
              <div class="config-provider-name provider-samco">üî∂ SAMCO</div>
              <div class="toggle-wrap">
                <label class="toggle"><input type="checkbox" onchange="updateApiToggleLabel(this)"/><span class="toggle-slider"></span></label>
                <span class="toggle-label">Inactive</span>
              </div>
            </div>
            <div class="config-card-body">
              <div class="config-connection-bar">
                <span style="font-size:13px; font-weight:600; color:var(--text2);">Connection</span>
                <div class="status-light">
                  <span class="status-dot disconnected"></span>
                  <span style="color:var(--error); font-size:12px;">Disconnected</span>
                </div>
              </div>
              <div class="form-group">
                <label class="form-label">Username / Client ID</label>
                <input class="form-input" type="text" name="samco_username" placeholder="Enter username"/>
              </div>
              <div class="form-group">
                <label class="form-label">Password / API Key</label>
                <input class="form-input" type="password" name="samco_password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
              </div>
              <div class="form-group">
                <label class="form-label">Mobile Number</label>
                <input class="form-input" type="tel" name="samco_mobile" placeholder="+91 XXXXX XXXXX"/>
              </div>
              <div class="form-group">
                <label class="form-label">Email</label>
                <input class="form-input" type="email" name="samco_email" placeholder="api@samco.com"/>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Sender Company ID</label>
                  <input class="form-input" type="text" name="samco_sender_id" placeholder="SENDER001"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Target Company ID</label>
                  <input class="form-input" type="text" name="samco_target_id" placeholder="TARGET001"/>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">IP Address</label>
                  <input class="form-input" type="text" name="samco_ip" placeholder="192.168.1.1"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Port</label>
                  <input class="form-input" type="number" name="samco_port" placeholder="8080"/>
                </div>
              </div>
              <button class="btn btn-primary" style="width:100%; margin-top:4px;">Save SAMCO Config</button>
            </div>
          </div>

        </div>
      </div>

      <!-- =========================================================
           ADD CLIENT PANEL
           Team: POST /api/clients on Submit
           Team: all input name attributes are API field keys
      ========================================================= -->
      <div class="panel" id="panel-add-client">
        <div class="page-header">
          <div>
            <div class="page-title">Add Client</div>
            <div class="page-breadcrumb">Clients / <span>Add Client</span></div>
          </div>
        </div>

        <div class="scrollable-content">

          <!-- Basic Information -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Basic Information</div>
            </div>
            <div class="form-section-body">
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Company Name *</label>
                  <input class="form-input" type="text" name="company_name" placeholder="e.g. Bullion Hub Pvt. Ltd." required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Email Address *</label>
                  <input class="form-input" type="email" name="email" placeholder="contact@company.com" required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Mobile Number *</label>
                  <input class="form-input" type="tel" name="mobile" placeholder="+91 XXXXX XXXXX" required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Domain *</label>
                  <input class="form-input" type="text" name="domain" placeholder="e.g. bullionhub.in" required/>
                </div>

              </div>
            </div>
          </div>

          <!-- Admin Features -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Admin Features</div>
            </div>
            <div class="form-section-body">
              <div class="yn-grid">
                <div class="yn-item">
                  <span class="yn-label">Bullion with GST</span>
                  <label class="toggle"><input type="checkbox" name="bullion_with_gst" checked/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Bullion Without GST</span>
                  <label class="toggle"><input type="checkbox" name="bullion_without_gst"/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Coins</span>
                  <!-- Team: coins toggle shows/hides Coin Dealers section -->
                  <label class="toggle"><input type="checkbox" name="coins" id="addCoinsToggle" onchange="toggleCoinDealers('add', this)"/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Live Header Rates</span>
                  <label class="toggle"><input type="checkbox" name="live_header_rates" checked/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Live MCX Prices</span>
                  <label class="toggle"><input type="checkbox" name="live_mcx_prices" checked/><span class="toggle-slider"></span></label>
                </div>
              </div>
            </div>
          </div>

          <!-- Coin Dealers ‚Äî shows only when Coins is ON (Optional) -->
          <div class="form-section" id="add-coin-dealers" style="display:none;">
            <div class="form-section-header">
              <div class="form-section-title" style="color:var(--green);">ü™ô Coin Dealers <small style="font-weight:400; color:var(--muted); font-size:12px; margin-left:8px;">(Optional)</small></div>
            </div>
            <div class="form-section-body">
              <div class="coin-dealer-grid">
                <div class="form-group">
                  <label class="form-label">Dealer 1</label>
                  <input class="form-input" type="text" name="coin_dealer_1" value="KUNDAN" placeholder="Dealer name"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Dealer 2</label>
                  <input class="form-input" type="text" name="coin_dealer_2" value="MMTC PAMP" placeholder="Dealer name"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Dealer 3</label>
                  <input class="form-input" type="text" name="coin_dealer_3" value="ELITE" placeholder="Dealer name"/>
                </div>
              </div>
            </div>
          </div>

          <!-- Frontend Pages -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Frontend Pages</div>
            </div>
            <div class="form-section-body">
              <div class="yn-grid">
                <div class="yn-item">
                  <span class="yn-label">Bank Details</span>
                  <label class="toggle"><input type="checkbox" name="page_bank_details" checked/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">About Us</span>
                  <label class="toggle"><input type="checkbox" name="page_about_us" checked/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Contact Us</span>
                  <label class="toggle"><input type="checkbox" name="page_contact_us" checked/><span class="toggle-slider"></span></label>
                </div>
                <div class="yn-item">
                  <span class="yn-label">Booking Desk</span>
                  <label class="toggle"><input type="checkbox" name="page_booking_desk"/><span class="toggle-slider"></span></label>
                </div>
              </div>
            </div>
          </div>

          <!-- Website Contact Details -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Website Contact Details</div>
            </div>
            <div class="form-section-body">
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Company Name on Frontend *</label>
                  <input class="form-input" type="text" name="website_company_name" placeholder="Name shown on client's frontend" required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Email 1 *</label>
                  <input class="form-input" type="email" name="website_email_1" placeholder="primary@company.com" required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Email 2</label>
                  <input class="form-input" type="email" name="website_email_2" placeholder="secondary@company.com"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Mobile 1 *</label>
                  <input class="form-input" type="tel" name="website_mobile_1" placeholder="+91 XXXXX XXXXX" required/>
                </div>
                <div class="form-group">
                  <label class="form-label">Mobile 2</label>
                  <input class="form-input" type="tel" name="website_mobile_2" placeholder="+91 XXXXX XXXXX"/>
                </div>
              </div>
            </div>
          </div>

          <!-- Theme Colors -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Theme Colors</div>
            </div>
            <div class="form-section-body">
              <div class="form-row">
                <div class="form-group">
                  <label class="form-label">Header Color *</label>
                  <div class="color-input-wrap">
                    <div class="color-preview" id="add-header-color-preview" style="background:#0f8fff;"></div>
                    <input class="form-input" type="text" id="add-header-color-hex" name="color_header" value="#0f8fff" maxlength="7" placeholder="#000000" oninput="liveColorPreview('add-header-color-hex','add-header-color-preview')"/>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">Footer Color *</label>
                  <div class="color-input-wrap">
                    <div class="color-preview" id="add-footer-color-preview" style="background:#080f16;"></div>
                    <input class="form-input" type="text" id="add-footer-color-hex" name="color_footer" value="#080f16" maxlength="7" placeholder="#000000" oninput="liveColorPreview('add-footer-color-hex','add-footer-color-preview')"/>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">Background Color *</label>
                  <div class="color-input-wrap">
                    <div class="color-preview" id="add-bg-color-preview" style="background:#ffffff;"></div>
                    <input class="form-input" type="text" id="add-bg-color-hex" name="color_background" value="#ffffff" maxlength="7" placeholder="#000000" oninput="liveColorPreview('add-bg-color-hex','add-bg-color-preview')"/>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">Section Heading Color *</label>
                  <div class="color-input-wrap">
                    <div class="color-preview" id="add-heading-color-preview" style="background:#aaee00;"></div>
                    <input class="form-input" type="text" id="add-heading-color-hex" name="color_section_heading" value="#aaee00" maxlength="7" placeholder="#000000" oninput="liveColorPreview('add-heading-color-hex','add-heading-color-preview')"/>
                  </div>
                </div>
                <div class="form-group">
                  <label class="form-label">Header Button Color *</label>
                  <div class="color-input-wrap">
                    <div class="color-preview" id="add-btn-color-preview" style="background:#1a6bff;"></div>
                    <input class="form-input" type="text" id="add-btn-color-hex" name="color_header_button" value="#1a6bff" maxlength="7" placeholder="#000000" oninput="liveColorPreview('add-btn-color-hex','add-btn-color-preview')"/>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Social Media Links -->
          <div class="form-section">
            <div class="form-section-header">
              <div class="form-section-title">Social Media Links</div>
            </div>
            <div class="form-section-body">
              <div class="social-grid">

                <!-- YouTube -->
                <div class="social-item" id="social-add-yt">
                  <div class="social-row">
                    <span class="social-icon yt"><i class="fab fa-youtube"></i></span>
                    <span class="social-name">YouTube</span>
                    <label class="toggle"><input type="checkbox" name="social_youtube_enabled" onchange="toggleSocialUrl(this, 'social-add-yt')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_youtube_url" placeholder="https://youtube.com/@channel"/>
                </div>

                <!-- Facebook -->
                <div class="social-item" id="social-add-fb">
                  <div class="social-row">
                    <span class="social-icon fb"><i class="fab fa-facebook-f"></i></span>
                    <span class="social-name">Facebook</span>
                    <label class="toggle"><input type="checkbox" name="social_facebook_enabled" onchange="toggleSocialUrl(this, 'social-add-fb')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_facebook_url" placeholder="https://facebook.com/page"/>
                </div>

                <!-- Instagram -->
                <div class="social-item" id="social-add-ig">
                  <div class="social-row">
                    <span class="social-icon ig"><i class="fab fa-instagram"></i></span>
                    <span class="social-name">Instagram</span>
                    <label class="toggle"><input type="checkbox" name="social_instagram_enabled" onchange="toggleSocialUrl(this, 'social-add-ig')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_instagram_url" placeholder="https://instagram.com/profile"/>
                </div>

                <!-- LinkedIn -->
                <div class="social-item" id="social-add-li">
                  <div class="social-row">
                    <span class="social-icon li"><i class="fab fa-linkedin-in"></i></span>
                    <span class="social-name">LinkedIn</span>
                    <label class="toggle"><input type="checkbox" name="social_linkedin_enabled" onchange="toggleSocialUrl(this, 'social-add-li')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_linkedin_url" placeholder="https://linkedin.com/company"/>
                </div>

                <!-- Google -->
                <div class="social-item" id="social-add-gg">
                  <div class="social-row">
                    <span class="social-icon gg"><i class="fab fa-google"></i></span>
                    <span class="social-name">Google</span>
                    <label class="toggle"><input type="checkbox" name="social_google_enabled" onchange="toggleSocialUrl(this, 'social-add-gg')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_google_url" placeholder="https://g.page/business"/>
                </div>

                <!-- WhatsApp Chat Button -->
                <div class="social-item" id="social-add-wa">
                  <div class="social-row">
                    <span class="social-icon wa"><i class="fab fa-whatsapp"></i></span>
                    <span class="social-name">WhatsApp Chat</span>
                    <label class="toggle"><input type="checkbox" name="social_whatsapp_enabled" onchange="toggleSocialUrl(this, 'social-add-wa')"/><span class="toggle-slider"></span></label>
                  </div>
                  <input class="form-input social-url-input" type="url" name="social_whatsapp_url" placeholder="https://wa.me/919XXXXXXXXX"/>
                </div>

                <!-- Add to Home Screen -->
                <div class="social-item" id="social-add-ath">
                  <div class="social-row">
                    <span class="social-icon ath"><i class="fas fa-plus-square"></i></span>
                    <span class="social-name">Add to Home Screen</span>
                    <label class="toggle"><input type="checkbox" name="add_to_home_screen"/><span class="toggle-slider"></span></label>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!-- Form Action Buttons -->
          <div class="form-actions">
            <button class="btn btn-outline" onclick="showPanel('welcome')">Cancel</button>
            <!-- Team: collect all form data and POST /api/clients -->
            <button class="btn btn-success">‚úì Submit Client</button>
          </div>

        </div>
      </div>

      <!-- =========================================================
           EDIT CLIENT PANEL
           Team: GET /api/clients to populate dropdown
           Team: GET /api/clients/:id to load client data
           Team: PUT /api/clients/:id on Submit
           Team: DELETE /api/clients/:id after OTP verified
      ========================================================= -->
      <div class="panel" id="panel-edit-client">
        <div class="page-header">
          <div>
            <div class="page-title">Edit Client</div>
            <div class="page-breadcrumb">Clients / <span>Edit Client</span></div>
          </div>
        </div>

        <!-- Client Selector -->
        <div class="card">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Select Client</div>
          </div>
          <div style="padding:16px 20px;">
            <!-- Team: populate options from GET /api/clients -->
            <select class="form-select" id="editClientSelect" onchange="loadClientData(this.value)" style="max-width:420px;">
              <option value="">‚Äî Choose a client to edit ‚Äî</option>
              <option value="1">Client A ‚Äî Bullion Hub</option>
              <option value="2">Client B ‚Äî Gold Mart</option>
              <option value="3">Client C ‚Äî Silver Palace</option>
            </select>
          </div>
        </div>

        <!-- Edit Form ‚Äî hidden until client selected -->
        <div id="editClientFormWrap" style="display:none;">
          <div class="scrollable-content">

            <!-- Basic Information -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Basic Information</div></div>
              <div class="form-section-body">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Company Name *</label>
                    <input class="form-input" type="text" id="e-company" name="company_name" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email Address *</label>
                    <input class="form-input" type="email" id="e-email" name="email" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Mobile Number *</label>
                    <input class="form-input" type="tel" id="e-mobile" name="mobile" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Domain *</label>
                    <input class="form-input" type="text" id="e-domain" name="domain" placeholder="e.g. bullionhub.in" required/>
                  </div>

                </div>
              </div>
            </div>

            <!-- Admin Features -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Admin Features</div></div>
              <div class="form-section-body">
                <div class="yn-grid">
                  <div class="yn-item"><span class="yn-label">Bullion with GST</span><label class="toggle"><input type="checkbox" id="e-bullion-gst" name="bullion_with_gst"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Bullion Without GST</span><label class="toggle"><input type="checkbox" id="e-bullion-nogst" name="bullion_without_gst"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Coins</span><label class="toggle"><input type="checkbox" id="e-coins" name="coins" onchange="toggleCoinDealers('edit', this)"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Live Header Rates</span><label class="toggle"><input type="checkbox" id="e-header" name="live_header_rates"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Live MCX Prices</span><label class="toggle"><input type="checkbox" id="e-mcx" name="live_mcx_prices"/><span class="toggle-slider"></span></label></div>
                </div>
              </div>
            </div>

            <!-- Coin Dealers (Optional - shows when Coins ON) -->
            <div class="form-section" id="edit-coin-dealers" style="display:none;">
              <div class="form-section-header">
                <div class="form-section-title" style="color:var(--green);">ü™ô Coin Dealers <small style="font-weight:400; color:var(--muted); font-size:12px; margin-left:8px;">(Optional)</small></div>
              </div>
              <div class="form-section-body">
                <div class="coin-dealer-grid">
                  <div class="form-group"><label class="form-label">Dealer 1</label><input class="form-input" type="text" id="e-dealer1" name="coin_dealer_1"/></div>
                  <div class="form-group"><label class="form-label">Dealer 2</label><input class="form-input" type="text" id="e-dealer2" name="coin_dealer_2"/></div>
                  <div class="form-group"><label class="form-label">Dealer 3</label><input class="form-input" type="text" id="e-dealer3" name="coin_dealer_3"/></div>
                </div>
              </div>
            </div>

            <!-- Frontend Pages -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Frontend Pages</div></div>
              <div class="form-section-body">
                <div class="yn-grid">
                  <div class="yn-item"><span class="yn-label">Bank Details</span><label class="toggle"><input type="checkbox" id="e-bank" name="page_bank_details"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">About Us</span><label class="toggle"><input type="checkbox" id="e-about" name="page_about_us"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Contact Us</span><label class="toggle"><input type="checkbox" id="e-contact" name="page_contact_us"/><span class="toggle-slider"></span></label></div>
                  <div class="yn-item"><span class="yn-label">Booking Desk</span><label class="toggle"><input type="checkbox" id="e-booking" name="page_booking_desk"/><span class="toggle-slider"></span></label></div>
                </div>
              </div>
            </div>

            <!-- Website Contact Details -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Website Contact Details</div></div>
              <div class="form-section-body">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Company Name on Frontend *</label>
                    <input class="form-input" type="text" id="e-web-company" name="website_company_name" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email 1 *</label>
                    <input class="form-input" type="email" id="e-em1" name="website_email_1" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Email 2</label>
                    <input class="form-input" type="email" id="e-em2" name="website_email_2"/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Mobile 1 *</label>
                    <input class="form-input" type="tel" id="e-mob1" name="website_mobile_1" required/>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Mobile 2</label>
                    <input class="form-input" type="tel" id="e-mob2" name="website_mobile_2"/>
                  </div>
                </div>
              </div>
            </div>

            <!-- Theme Colors -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Theme Colors</div></div>
              <div class="form-section-body">
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Header Color *</label>
                    <div class="color-input-wrap">
                      <div class="color-preview" id="edit-header-color-preview"></div>
                      <input class="form-input" type="text" id="edit-header-color-hex" name="color_header" maxlength="7" oninput="liveColorPreview('edit-header-color-hex','edit-header-color-preview')"/>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Footer Color *</label>
                    <div class="color-input-wrap">
                      <div class="color-preview" id="edit-footer-color-preview"></div>
                      <input class="form-input" type="text" id="edit-footer-color-hex" name="color_footer" maxlength="7" oninput="liveColorPreview('edit-footer-color-hex','edit-footer-color-preview')"/>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Background Color *</label>
                    <div class="color-input-wrap">
                      <div class="color-preview" id="edit-bg-color-preview"></div>
                      <input class="form-input" type="text" id="edit-bg-color-hex" name="color_background" maxlength="7" oninput="liveColorPreview('edit-bg-color-hex','edit-bg-color-preview')"/>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Section Heading Color *</label>
                    <div class="color-input-wrap">
                      <div class="color-preview" id="edit-heading-color-preview"></div>
                      <input class="form-input" type="text" id="edit-heading-color-hex" name="color_section_heading" maxlength="7" oninput="liveColorPreview('edit-heading-color-hex','edit-heading-color-preview')"/>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Header Button Color *</label>
                    <div class="color-input-wrap">
                      <div class="color-preview" id="edit-btn-color-preview"></div>
                      <input class="form-input" type="text" id="edit-btn-color-hex" name="color_header_button" maxlength="7" oninput="liveColorPreview('edit-btn-color-hex','edit-btn-color-preview')"/>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Social Media Links -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">Social Media Links</div></div>
              <div class="form-section-body">
                <div class="social-grid">
                  <div class="social-item" id="social-edit-yt">
                    <div class="social-row">
                      <span class="social-icon yt"><i class="fab fa-youtube"></i></span>
                      <span class="social-name">YouTube</span>
                      <label class="toggle"><input type="checkbox" id="e-yt-on" name="social_youtube_enabled" onchange="toggleSocialUrl(this, 'social-edit-yt')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-yt-url" name="social_youtube_url" placeholder="https://youtube.com/@channel"/>
                  </div>
                  <div class="social-item" id="social-edit-fb">
                    <div class="social-row">
                      <span class="social-icon fb"><i class="fab fa-facebook-f"></i></span>
                      <span class="social-name">Facebook</span>
                      <label class="toggle"><input type="checkbox" id="e-fb-on" name="social_facebook_enabled" onchange="toggleSocialUrl(this, 'social-edit-fb')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-fb-url" name="social_facebook_url" placeholder="https://facebook.com/page"/>
                  </div>
                  <div class="social-item" id="social-edit-ig">
                    <div class="social-row">
                      <span class="social-icon ig"><i class="fab fa-instagram"></i></span>
                      <span class="social-name">Instagram</span>
                      <label class="toggle"><input type="checkbox" id="e-ig-on" name="social_instagram_enabled" onchange="toggleSocialUrl(this, 'social-edit-ig')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-ig-url" name="social_instagram_url" placeholder="https://instagram.com/profile"/>
                  </div>
                  <div class="social-item" id="social-edit-li">
                    <div class="social-row">
                      <span class="social-icon li"><i class="fab fa-linkedin-in"></i></span>
                      <span class="social-name">LinkedIn</span>
                      <label class="toggle"><input type="checkbox" id="e-li-on" name="social_linkedin_enabled" onchange="toggleSocialUrl(this, 'social-edit-li')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-li-url" name="social_linkedin_url" placeholder="https://linkedin.com/company"/>
                  </div>
                  <div class="social-item" id="social-edit-gg">
                    <div class="social-row">
                      <span class="social-icon gg"><i class="fab fa-google"></i></span>
                      <span class="social-name">Google</span>
                      <label class="toggle"><input type="checkbox" id="e-gg-on" name="social_google_enabled" onchange="toggleSocialUrl(this, 'social-edit-gg')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-gg-url" name="social_google_url" placeholder="https://g.page/business"/>
                  </div>

                  <!-- WhatsApp Chat Button -->
                  <div class="social-item" id="social-edit-wa">
                    <div class="social-row">
                      <span class="social-icon wa"><i class="fab fa-whatsapp"></i></span>
                      <span class="social-name">WhatsApp Chat</span>
                      <label class="toggle"><input type="checkbox" id="e-wa-on" name="social_whatsapp_enabled" onchange="toggleSocialUrl(this, 'social-edit-wa')"/><span class="toggle-slider"></span></label>
                    </div>
                    <input class="form-input social-url-input" type="url" id="e-wa-url" name="social_whatsapp_url" placeholder="https://wa.me/919XXXXXXXXX"/>
                  </div>

                  <!-- Add to Home Screen -->
                  <div class="social-item" id="social-edit-ath">
                    <div class="social-row">
                      <span class="social-icon ath"><i class="fas fa-plus-square"></i></span>
                      <span class="social-name">Add to Home Screen</span>
                      <label class="toggle"><input type="checkbox" id="e-ath-on" name="add_to_home_screen"/><span class="toggle-slider"></span></label>
                    </div>
                  </div>

                </div>
              </div>
            </div>

            <!-- Form Buttons ‚Äî Submit + Cancel + Delete -->
            <div class="form-actions">
              <!-- Delete: opens OTP modal first -->
              <button class="btn btn-danger" onclick="openModal('modal-delete-otp')" style="margin-right:auto;">üóë Delete Client</button>
              <button class="btn btn-outline" onclick="showPanel('welcome')">Cancel</button>
              <!-- Team: PUT /api/clients/:id with form data -->
              <button class="btn btn-success">‚úì Submit Changes</button>
            </div>

          </div>
        </div>
      </div>

      <!-- =========================================================
           INACTIVE CLIENTS PANEL
           Team: GET /api/clients?status=inactive to populate table
           Team: POST /api/clients/:id/reactivate on Reactivate click
      ========================================================= -->
      <div class="panel" id="panel-inactive-clients">
        <div class="page-header">
          <div>
            <div class="page-title">Inactive Clients</div>
            <div class="page-breadcrumb">Clients / <span>Inactive Clients</span></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Deactivated Clients</div>
            <div style="font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--muted);">Data is preserved ‚Äî website is offline</div>
          </div>
          <div class="table-wrap">
            <!-- Team: populate from GET /api/clients?status=inactive -->
            <table>
              <thead>
                <tr>
                  <th>Company Name</th>
                  <th>Domain</th>
                  <th>Email</th>
                  <th>Mobile</th>
                  <th>Deactivated On</th>
                  <th>Reactivate</th>
                </tr>
              </thead>
              <tbody>
                <!-- Sample row ‚Äî Team: replace with dynamic data -->
                <tr>
                  <td style="font-weight:600;">Gold Mart Traders</td>
                  <td class="td-mono">goldmart.in</td>
                  <td class="td-mono">contact@goldmart.in</td>
                  <td class="td-mono">+91 87654 32109</td>
                  <td class="td-mono" style="color:var(--muted);">15 Jan 2025</td>
                  <td>
                    <!-- Team: POST /api/clients/:id/reactivate -->
                    <button class="btn btn-success btn-sm" onclick="reactivateClient(this)">‚ö° Reactivate</button>
                  </td>
                </tr>
                <tr>
                  <td style="font-weight:600;">Silver Palace Jewellers</td>
                  <td class="td-mono">silverpalace.in</td>
                  <td class="td-mono">hello@silverpalace.in</td>
                  <td class="td-mono">+91 76543 21098</td>
                  <td class="td-mono" style="color:var(--muted);">02 Feb 2025</td>
                  <td>
                    <button class="btn btn-success btn-sm" onclick="reactivateClient(this)">‚ö° Reactivate</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <p style="font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--muted); margin-top:10px; letter-spacing:0.05em;">
          üí° Client data is fully preserved in the database ‚Äî reactivating will bring their website back online instantly
        </p>
      </div>

      <!-- =========================================================
           META SETTINGS PANEL
           Team: GET /api/meta/:clientId to load all page meta data
           Team: PUT /api/meta/:clientId to save all page meta data
      ========================================================= -->
      <div class="panel" id="panel-meta-settings">
        <div class="page-header">
          <div>
            <div class="page-title">Meta Settings</div>
            <div class="page-breadcrumb">üîç <span>Meta Settings</span></div>
          </div>
        </div>

        <!-- Select Client -->
        <div class="card" style="margin-bottom:20px;">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Select Client</div>
          </div>
          <div style="padding:16px 20px;">
            <!-- Team: populate from GET /api/clients -->
            <select class="form-select" id="meta-client-select" onchange="loadMetaSettings(this.value)" style="max-width:420px;">
              <option value="">‚Äî Choose a client ‚Äî</option>
              <option value="1">Client A ‚Äî Bullion Hub</option>
              <option value="2">Client B ‚Äî Gold Mart</option>
              <option value="3">Client C ‚Äî Silver Palace</option>
            </select>
          </div>
        </div>

        <!-- Meta Forms ‚Äî hidden until client selected -->
        <div id="meta-form-wrap" style="display:none;">
          <div class="scrollable-content">

            <!-- HOME -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">üè† Home</div></div>
              <div class="form-section-body">
                <div class="form-group">
                  <label class="form-label">Meta Title *</label>
                  <input class="form-input" type="text" name="home_meta_title" placeholder="e.g. Bullion Hub ‚Äî Live Gold & Silver Rates"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Meta Description *</label>
                  <textarea class="form-input" name="home_meta_desc" rows="3" placeholder="Brief description of the homepage for search engines..." style="resize:vertical;"></textarea>
                  <div style="font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--muted); margin-top:5px;">üí° Recommended: 150‚Äì160 characters</div>
                </div>
              </div>
            </div>

            <!-- ABOUT US -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">‚ÑπÔ∏è About Us</div></div>
              <div class="form-section-body">
                <div class="form-group">
                  <label class="form-label">Meta Title *</label>
                  <input class="form-input" type="text" name="about_meta_title" placeholder="e.g. About Us ‚Äî Bullion Hub"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Meta Description *</label>
                  <textarea class="form-input" name="about_meta_desc" rows="3" placeholder="Brief description of the About Us page..." style="resize:vertical;"></textarea>
                  <div style="font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--muted); margin-top:5px;">üí° Recommended: 150‚Äì160 characters</div>
                </div>
              </div>
            </div>

            <!-- CONTACT US -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">üìû Contact Us</div></div>
              <div class="form-section-body">
                <div class="form-group">
                  <label class="form-label">Meta Title *</label>
                  <input class="form-input" type="text" name="contact_meta_title" placeholder="e.g. Contact Us ‚Äî Bullion Hub"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Meta Description *</label>
                  <textarea class="form-input" name="contact_meta_desc" rows="3" placeholder="Brief description of the Contact Us page..." style="resize:vertical;"></textarea>
                  <div style="font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--muted); margin-top:5px;">üí° Recommended: 150‚Äì160 characters</div>
                </div>
              </div>
            </div>

            <!-- BANK DETAILS -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">üè¶ Bank Details</div></div>
              <div class="form-section-body">
                <div class="form-group">
                  <label class="form-label">Meta Title *</label>
                  <input class="form-input" type="text" name="bank_meta_title" placeholder="e.g. Bank Details ‚Äî Bullion Hub"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Meta Description *</label>
                  <textarea class="form-input" name="bank_meta_desc" rows="3" placeholder="Brief description of the Bank Details page..." style="resize:vertical;"></textarea>
                  <div style="font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--muted); margin-top:5px;">üí° Recommended: 150‚Äì160 characters</div>
                </div>
              </div>
            </div>

            <!-- BOOKING DETAILS -->
            <div class="form-section">
              <div class="form-section-header"><div class="form-section-title">üìã Booking Details</div></div>
              <div class="form-section-body">
                <div class="form-group">
                  <label class="form-label">Meta Title *</label>
                  <input class="form-input" type="text" name="booking_meta_title" placeholder="e.g. Booking Desk ‚Äî Bullion Hub"/>
                </div>
                <div class="form-group">
                  <label class="form-label">Meta Description *</label>
                  <textarea class="form-input" name="booking_meta_desc" rows="3" placeholder="Brief description of the Booking Details page..." style="resize:vertical;"></textarea>
                  <div style="font-family:'JetBrains Mono',monospace; font-size:10px; color:var(--muted); margin-top:5px;">üí° Recommended: 150‚Äì160 characters</div>
                </div>
              </div>
            </div>

            <!-- Form Buttons -->
            <div class="form-actions">
              <button class="btn btn-outline" onclick="resetMetaSettings()">Cancel</button>
              <!-- Team: PUT /api/meta/:clientId with all meta data -->
              <button class="btn btn-success">‚úì Save Meta Settings</button>
            </div>

          </div>
        </div>
      </div>

      <!-- =========================================================
           FRONTEND SETTINGS PANEL
           Team: GET /api/clients for client dropdown
           Team: GET /api/frontend/:clientId/:section to load form data
           Team: PUT /api/frontend/:clientId/:section to save
      ========================================================= -->
      <div class="panel" id="panel-frontend-settings">
        <div class="page-header">
          <div>
            <div class="page-title">Frontend Settings</div>
            <div class="page-breadcrumb">üñ•Ô∏è <span>Frontend Settings</span></div>
          </div>
        </div>

        <!-- Step 1: Select Client + Section -->
        <div class="card">
          <div class="card-header">
            <div class="card-title"><span class="card-title-dot"></span> Select Client & Section</div>
          </div>
          <div style="padding:18px 20px;">
            <div class="fs-selectors">
              <!-- Team: populate from GET /api/clients -->
              <div class="form-group" style="margin:0;">
                <label class="form-label">Select Client</label>
                <select class="form-select" id="fs-client-select" onchange="fsOnClientChange()">
                  <option value="">‚Äî Choose a client ‚Äî</option>
                  <option value="1">Client A ‚Äî Bullion Hub</option>
                  <option value="2">Client B ‚Äî Gold Mart</option>
                  <option value="3">Client C ‚Äî Silver Palace</option>
                </select>
              </div>
              <!-- Section dropdown ‚Äî enabled only after client selected -->
              <div class="form-group" style="margin:0;">
                <label class="form-label">Select Section</label>
                <select class="form-select" id="fs-section-select" onchange="fsLoadSection()" disabled>
                  <option value="">‚Äî Choose a section ‚Äî</option>
                  <option value="about-us">About Us</option>
                  <option value="contact-us">Contact Us</option>
                  <option value="privacy-terms">Privacy Policy & Terms of Service</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Step 2: Dynamic form loads here -->
        <div id="fs-form-area"></div>

      </div>

    </main>
  </div>

  <!-- ============================================================
       CONTEXT MENU ‚Äî Right-click on Market Watch rows
  ============================================================ -->
  <div class="ctx-menu" id="ctxMenu">
    <div class="ctx-item" onclick="ctxAdd()">‚ûï Add Script</div>
    <div class="ctx-sep"></div>
    <div class="ctx-item ctx-edit" onclick="ctxEdit()">‚úèÔ∏è Edit Script</div>
    <div class="ctx-item ctx-delete" onclick="ctxDelete()">üóëÔ∏è Delete Script</div>
  </div>

  <!-- ============================================================
       MODAL: ADD SCRIPT
       Team: POST /api/market-watch/scripts on submit
  ============================================================ -->
  <div class="modal-overlay" id="modal-add-script">
    <div class="modal modal-md">
      <div class="modal-topbar"></div>
      <div class="modal-header">
        <div class="modal-title">‚ûï Add Script</div>
        <button class="modal-close-btn" onclick="closeModal('modal-add-script')">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Script Name *</label>
          <input class="form-input" type="text" name="script_name" placeholder="e.g. GOLD24, SILVER, CRUDEOIL" required/>
        </div>
        <div class="form-group">
          <label class="form-label">Select Server (Feed Provider) *</label>
          <!-- Team: map to provider ID for API integration -->
          <select class="form-select" name="feed_provider">
            <option value="">‚Äî Select feed provider ‚Äî</option>
            <option value="upstox">UPSTOX</option>
            <option value="gdf">GDF</option>
            <option value="samco">SAMCO</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Instrument Name *</label>
          <input class="form-input" type="text" name="instrument_name" placeholder="e.g. MCX:GOLD24NOVFUT" required/>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeModal('modal-add-script')">Cancel</button>
        <!-- Team: POST /api/market-watch/scripts -->
        <button class="btn btn-primary">Add Script</button>
      </div>
    </div>
  </div>

  <!-- ============================================================
       MODAL: EDIT SCRIPT
       Team: PUT /api/market-watch/scripts/:id on submit
  ============================================================ -->
  <div class="modal-overlay" id="modal-edit-script">
    <div class="modal modal-md">
      <div class="modal-topbar"></div>
      <div class="modal-header">
        <div class="modal-title">‚úèÔ∏è Edit Script</div>
        <button class="modal-close-btn" onclick="closeModal('modal-edit-script')">‚úï</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Script Name *</label>
          <input class="form-input" type="text" id="edit-script-name" name="script_name" required/>
        </div>
        <div class="form-group">
          <label class="form-label">Select Server (Feed Provider) *</label>
          <select class="form-select" id="edit-script-provider" name="feed_provider">
            <option value="upstox">UPSTOX</option>
            <option value="gdf">GDF</option>
            <option value="samco">SAMCO</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Instrument Name *</label>
          <input class="form-input" type="text" id="edit-script-instrument" name="instrument_name" required/>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeModal('modal-edit-script')">Cancel</button>
        <!-- Team: PUT /api/market-watch/scripts/:id -->
        <button class="btn btn-primary">Save Changes</button>
      </div>
    </div>
  </div>

  <!-- ============================================================
       MODAL: DELETE SCRIPT CONFIRMATION
       Team: DELETE /api/market-watch/scripts/:id after confirmed
  ============================================================ -->
  <div class="modal-overlay" id="modal-delete-script">
    <div class="modal modal-sm">
      <div class="modal-topbar danger"></div>
      <div class="modal-body" style="padding:32px 24px; text-align:center;">
        <div style="font-size:44px; margin-bottom:16px;">‚ö†Ô∏è</div>
        <div style="font-size:16px; color:var(--text2); margin-bottom:8px;">Are you sure you want to delete this script?</div>
        <div id="deleteScriptLabel" style="font-size:18px; font-weight:700; color:var(--error); margin-bottom:24px;">GOLD24</div>
        <div style="display:flex; gap:10px; justify-content:center;">
          <button class="btn btn-outline" onclick="closeModal('modal-delete-script')">Cancel</button>
          <button class="btn btn-danger" onclick="executeDeleteScript()">Yes, Delete</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================================
       MODAL: DELETE CLIENT ‚Äî OTP Verification Required
       Team: Step 1 ‚Üí POST /api/clients/:id/send-delete-otp (sends OTP to client email)
       Team: Step 2 ‚Üí DELETE /api/clients/:id with OTP in body
  ============================================================ -->
  <div class="modal-overlay" id="modal-delete-otp">
    <div class="modal modal-sm">
      <div class="modal-topbar danger"></div>
      <div class="modal-header">
        <div class="modal-title" style="color:var(--error);">‚ö†Ô∏è Delete Client</div>
        <button class="modal-close-btn" onclick="closeModal('modal-delete-otp')">‚úï</button>
      </div>
      <div class="modal-body">
        <p style="color:var(--text2); font-size:14px; line-height:1.7; margin-bottom:6px;">
          This action is <strong style="color:var(--error);">permanent</strong> and cannot be undone.<br/>
          An OTP has been sent to the client's registered email. Enter it below to confirm deletion.
        </p>
        <!-- Team: trigger OTP send on modal open via POST /api/clients/:id/send-delete-otp -->
        <div class="otp-wrap">
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
          <input class="otp-box" type="text" maxlength="1" inputmode="numeric"/>
        </div>
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:4px;">
          <span style="font-family:'JetBrains Mono',monospace; font-size:11px; color:var(--muted);">
            Resend in <span id="delete-otp-timer">30s</span>
          </span>
          <button class="btn btn-outline btn-sm" id="deleteOtpResendBtn" disabled onclick="resendDeleteOtp()">‚Ü∫ Resend</button>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeModal('modal-delete-otp')">Cancel</button>
        <!-- Team: DELETE /api/clients/:id with { otp: "XXXXXX" } -->
        <button class="btn btn-danger" onclick="verifyDeleteOtp()">Confirm Delete</button>
      </div>
    </div>
  </div>

  <!-- ============================================================
       JAVASCRIPT
       All UI logic is here. Team: replace dummy data/alerts
       with actual API calls using fetch() or axios.
  ============================================================ -->
  <script src="dashboard.js"></script>

</body>
</html>
